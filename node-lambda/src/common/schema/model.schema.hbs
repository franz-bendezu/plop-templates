import type { ObjectSchema, Root } from 'joi';
import joiCore from 'joi';
import joiDate from '@joi/date';
import { IBase{{pascalCase name}}DTO } from '../../dto/base-{{kebabCase name}}.dto';

export const joi: Root = joiCore.extend(joiDate);

export const DATE_FORMAT = 'YYYY-MM-DD';
export const ALPHANUMERIC_HYPHEN_SPACE_REGEX = /^[-\w\s]+$/;

export const {{camelCase name}}Schema: ObjectSchema<IBase{{pascalCase name}}DTO> = joi
    .object({
        name: joi.string().regex(ALPHANUMERIC_HYPHEN_SPACE_REGEX).required(),
        description: joi.string().regex(ALPHANUMERIC_HYPHEN_SPACE_REGEX).required(),
        validFrom: joi.date().format(DATE_FORMAT).required(),
        validTo: joi.date().format(DATE_FORMAT).required(),
    })
    .messages({
        'date.format': `El campo {#label} debe tener el formato ${DATE_FORMAT}`,
        'number.base': 'El campo {#label} debe ser un n√∫mero',
        'array.base': 'El campo {#label} debe ser un arreglo',
        'date.base': 'El campo {#label} debe ser una fecha',
        'string.pattern.base':
            'El campo {#label} no debe contener caracteres especiales',
    });
